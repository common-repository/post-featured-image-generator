<?php

require_once 'SWL/Page/Admin/Page.php';
require_once 'SWL/Action/Ajax.php';

class FIG_Page_Admin_Batch extends SWL_Page_Admin {
    
    public function __construct() {
        parent::__construct('Batch Generation', array('hide_title' => true));
        
    }
    
    public function init() {
        parent::init();
        $this->addStyle(array('name' => 'jquery-ui', 'src' => plugins_url('css/jquery-ui.css', FIG_PATH.'/dummy')));  
        $this->addScript(array('name' => 'jquery-ui-progressbar'));        
        $this->addStyle(array('name' => 'fig-batch-page', 'src' => plugins_url('css/admin/batch.css', FIG_PATH.'/dummy')));
        $this->addScript(array('name' => 'fig-batch-page', 'src' => plugins_url('js/admin/batch.js', FIG_PATH.'/dummy')));
    }
    
    public function render($print = true) {
    ?>
        <div class="wrap fig-batch">
            <div id="fig-batch-progressbar"><div class="label">0%</div></div> <input type="submit" id="batch-stop" class="button button-primary" value="Stop" />
            <div class="rules">
                <select id="batch-rule">
                    <option value="new">Posts without featured image</option>
                    <option value="fig">Posts with featured image generated by this plugin</option>
                    <option value="manual">Posts with manually created featured image</option>
                </select>    
                <input type="submit" id="batch-start" class="button button-primary" value="Generate" />
            </div>            
            <div class="log"></div>
        </div>    
    <?php
    }
    
}